<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Running Shoe - Elite Wear</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        .header {
            border-bottom: 1px solid #e5e5e5;
            background: white;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 0;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #000;
        }

        .nav {
            display: none;
            gap: 32px;
        }

        .nav a {
            text-decoration: none;
            color: #666;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav a:hover {
            color: #000;
        }

        .header-icons {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .icon {
            width: 24px;
            height: 24px;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .icon:hover {
            opacity: 0.7;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            background: #e5e5e5;
            border-radius: 50%;
            cursor: pointer;
        }

        /* Main Content */
        .main-content {
            padding: 32px 0;
        }

        .product-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 48px;
            margin-bottom: 64px;
        }

        /* Product Images */
        .product-images {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .thumbnail-container {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .thumbnail {
            width: 64px;
            height: 64px;
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .thumbnail.active {
            border-color: #000;
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .main-image {
            background: #f5f5f5;
            border-radius: 8px;
            overflow: hidden;
            aspect-ratio: 1;
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Product Details */
        .product-details {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .product-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .product-code {
            color: #666;
            margin-bottom: 8px;
        }

        .rating-container {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
        }

        .stars {
            display: flex;
            gap: 2px;
        }

        .star {
            width: 20px;
            height: 20px;
            fill: #fbbf24;
            color: #fbbf24;
        }

        .star.empty {
            fill: #e5e5e5;
            color: #e5e5e5;
        }

        .review-count {
            color: #666;
        }

        .price-container {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .current-price {
            font-size: 32px;
            font-weight: bold;
        }

        .original-price {
            font-size: 20px;
            color: #666;
            text-decoration: line-through;
        }

        .discount-badge {
            background: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }

        .stock-status {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stock-indicator {
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
        }

        .stock-text {
            color: #10b981;
            font-weight: 500;
        }

        /* Size Selection */
        .size-options h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }

        .size-buttons {
            display: flex;
            gap: 10px;
        }

        .size-buttons input[type="radio"] {
            display: none;
        }

        .size-buttons label {
            padding: 10px 18px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: white;
            cursor: pointer;
            font-weight: 500;
            color: #333;
            transition: all 0.2s ease;
        }

        .size-buttons input[type="radio"]:checked + label {
            background-color: black;
            color: white;
            border-color: black;
        }

        /* Color Selection */
        .color-option {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid #ccc;
    cursor: pointer;
}

        .color moments {
            width: 32px;
            height: 32px;
            border: 2px solid #d1d5db;
            border-radius: 50%;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        /* .color-option:hover {
            border-color: #000;
        } */

        /* .color-black {
            background: #000;
        }

        .color-white {
            background: #fff;
        }

        .color-gray {
            background: #6b7280;
        } */

        /* Quantity */
       .quantity-controls {
  display: flex;
  align-items: center;
  gap: 10px;
}

.quantity-input {
  width: 50px;
  text-align: center;
  padding: 6px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 6px;
}

.minus-btn,
.plus-btn {
  width: 32px;
  height: 32px;
  border: none;
  background-color: #222;
  color: #fff;
  font-size: 18px;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.minus-btn:hover,
.plus-btn:hover {
  background-color: #444;
}


        /* Buttons */
        .button-group {
            display: flex;
            gap: 16px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-decoration: none;
            border: none;
        }

        .btn-primary {
            background: #000;
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            background: #374151;
        }

        .btn-secondary {
            background: white;
            color: #000;
            border: 1px solid #d1d5db;
            flex: 1;
        }

        .btn-secondary:hover {
            border-color: #000;
        }

        .btn-ghost {
            background: transparent;
            color: #666;
            border: none;
            width: 100%;
        }

        .btn-ghost:hover {
            color: #000;
        }

        /* Tabs */
        .tabs {
            margin-bottom: 64px;
        }

        .tab-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            border-bottom: 1px solid #e5e5e5;
            margin-bottom: 24px;
        }

        .tab-trigger {
            padding: 16px;
            background: none;
            border: none;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .tab-trigger.active {
            border-bottom-color: #000;
            color: #000;
        }

        .tab-trigger:hover {
            color: #000;
        }

        .tab-content {
            display: none;
            line-height: 1.7;
            color: #666;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content p {
            margin-bottom: 8px;
        }

        /* Reviews */
        .reviews-section {
            margin-bottom: 64px;
        }

        .reviews-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 24px;
        }

        .reviews-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 32px;
        }

        .rating-summary {
            text-align: center;
        }

        .rating-number {
            font-size: 64px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .rating-breakdown {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .rating-row {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .rating-bar {
            flex: 1;
            height: 8px;
            background: #e5e5e5;
            border-radius: 4px;
            overflow: hidden;
        }

        .rating-fill {
            height: 100%;
            background: #fbbf24;
            width: 0%;
        }

        .no-reviews {
            text-align: center;
            margin-top: 32px;
        }

        .no-reviews-icon {
            width: 64px;
            height: 64px;
            color: #9ca3af;
            margin: 0 auto 16px;
        }

        .no-reviews h3 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        /* Similar Products */
        .similar-products {
            margin-bottom: 64px;
        }

        .similar-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 24px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .product-card {
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background-color: #fff;
        }

        .product-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .product-image {
            background: #f5f5f5;
            border-radius: 8px;
            margin-bottom: 12px;
            aspect-ratio: 1;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-name {
            font-weight: 500;
            font-size: 14px;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-price {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .price-row {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .product-original-price {
            font-size: 12px;
            color: #666;
            text-decoration: line-through;
        }

        .product-discount {
            background: #ef4444;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
        }

        /* Newsletter */
        .newsletter {
            text-align: center;
            margin-top: 64px;
            padding: 48px;
            background: #f9fafb;
            border-radius: 8px;
        }

        .newsletter h2 {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 16px;
        }

        .newsletter p {
            color: #666;
            margin-bottom: 24px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .newsletter-form {
            display: flex;
            max-width: 400px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 4px 0 0 4px;
            border-right: none;
        }

        .newsletter-btn {
            background: #ef4444;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .newsletter-btn:hover {
            background: #dc2626;
        }

        /* Responsive Design */
        @media (min-width: 768px) {
            .nav {
                display: flex;
            }

            .product-section {
                grid-template-columns: 1fr 1fr;
            }

            .reviews-grid {
                grid-template-columns: 1fr 1fr;
            }

            .products-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .container {
                padding: 0 40px;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        .text-center {
            text-align: center;
        }

        .mb-2 {
            margin-bottom: 8px;
        }

        .mb-4 {
            margin-bottom: 16px;
        }

        .mb-6 {
            margin-bottom: 24px;
        }

        .mb-8 {
            margin-bottom: 32px;
        }

        .mt-2 {
            margin-top: 8px;
        }

        .mt-4 {
            margin-top: 16px;
        }

        .mt-6 {
            margin-top: 24px;
        }

        .mt-8 {
            margin-top: 32px;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <%- include("../partials/user/header") %>
    <div class="container">
        <main class="main-content">
            <!-- Main Product Section -->
            <section class="product-section">
                <!-- Product Images -->
                <div class="product-images">
                    <div class="thumbnail-container">
                        <div class="thumbnail">
                            <img src="/Uploads/product-images/<%=product.productImage[0]%>" alt="product image">
                        </div>
                        <div class="thumbnail">
                            <img src="/Uploads/product-images/<%=product.productImage[1]%>" alt="product image">
                        </div>
                        <div class="thumbnail">
                            <img src="/Uploads/product-images/<%=product.productImage[2]%>" alt="product image">
                        </div>
                    </div>
                    <div class="main-image" id="productZoomContainer">
                        <img id="mainProductImage" src="/Uploads/product-images/<%=product.productImage[0]%>" alt="Premium Running Shoe">
                    </div>
                </div>

                <!-- Product Details -->
                <div class="product-details">
                    <div>
                        <h1 class="product-title">
                            <%=product.productName%>
                        </h1>
                        <div class="rating-container">
                            <div class="stars">
                                <svg class="star" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                </svg>
                                <svg class="star" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                </svg>
                                <svg class="star" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                </svg>
                                <svg class="star" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                </svg>
                                <svg class="star" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                </svg>
                            </div>
                            <span class="review-count">(0 reviews)</span>
                        </div>
                    </div>

                    <div class="price-container">
                        <span class="current-price" id="total-price" >₹<%=product.salePrice.toFixed(0)%></span>
                        <span class="original-price" id="total-price1" >₹<%=product.regularPrice%></span>
                        <span class="discount-badge">
                            <%if(!totalOffer){%>
                                No Offers
                            <%}else{%>
                                <%=totalOffer%> % Offer
                            <%}%>
                        </span>
                    </div>

                    <div class="stock-status">
                        <div class="stock-indicator"></div>
                        <span class="stock-text"><%=quantity%> Items in Stock</span>
                    </div>

                    <!-- Size Selection -->
                    <div class="size-options">
                        <h3>Size:</h3>
                        <div class="size-buttons">
                            <% sizes.forEach((size, index) => { %>
                                <input type="radio" id="size-<%= index %>" name="size" value="<%= size %>" <%= size === '6' ? 'checked' : '' %> hidden>
                                <label for="size-<%= index %>"><%= size %></label>
                            <% }); %>
                        </div>
                    </div>

                    <!-- Color Selection -->
                    <div class="color-section">
                        <h3>Color:</h3>
                        <div class="color-options">
                          <div class="color-option" style="background-color: <%= color %>;"></div>
                        </div>
                    </div>  

                    <!-- Quantity -->
                    <div class="quantity-section">
                        <h3>Quantity:</h3>
                        <div class="quantity-controls">
                            <button class="minus-btn">-</button>
                            <input type="number" class="quantity-input" value="1" min="1">
                            <button class="plus-btn">+</button>
                        </div>
                    </div>

 
                    <!-- Action Buttons -->
                    <div class="button-group">
                        <button class="btn btn-primary">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01" />
                            </svg>
                            Add to Cart
                        </button>
                        <button class="btn btn-secondary">⚡ Buy Now</button>
                    </div>

                    <button class="btn btn-ghost">
                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                        Add to Wishlist
                    </button>
                </div>
            </section>

            <!-- Product Information Tabs -->
            <section class="tabs">
                <div class="tab-list">
                    <button class="tab-trigger active" data-tab="description">DESCRIPTION</button>
                    <button class="tab-trigger" data-tab="details">DETAILS</button>
                    <button class="tab-trigger" data-tab="care">CARE INSTRUCTIONS</button>
                </div>

                <div class="tab-content active" id="description">
                    <p><%=product.description%></p>
                </div>

                <div class="tab-content" id="details">
                    <p><strong>Material:</strong> Synthetic mesh upper with rubber sole</p>
                    <p><strong>Closure:</strong> Lace-up</p>
                    <p><strong>Heel Height:</strong> 1.5 inches</p>
                    <p><strong>Weight:</strong> 280g (per shoe)</p>
                    <p><strong>Origin:</strong> Made in India</p>
                </div>

                <div class="tab-content" id="care">
                    <p>• Clean with a soft brush and mild soap</p>
                    <p>• Air dry at room temperature</p>
                    <p>• Avoid direct sunlight and heat sources</p>
                    <p>• Store in a cool, dry place</p>
                    <p>• Use shoe trees to maintain shape</p>
                </div>
            </section>

            <!-- Customer Reviews -->
            <section class="reviews-section">
                <h2 class="reviews-title">Customer Reviews</h2>
                <div class="reviews-grid">
                    <div class="rating-summary">
                        <div class="rating-number">0.0</div>
                        <div class="stars mb-2">
                            <svg class="star empty" viewBox="0 0 24 24">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <svg class="star empty" viewBox="0 0 24 24">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <svg class="star empty" viewBox="0 0 24 24">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <svg class="star empty" viewBox="0 0 24 24">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <svg class="star empty" viewBox="0 0 24 24">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                        </div>
                        <p>Based on 0 reviews</p>
                    </div>

                    <div class="rating-breakdown">
                        <div class="rating-row">
                            <svg class="star" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <span>5</span>
                            <div class="rating-bar">
                                <div class="rating-fill"></div>
                            </div>
                            <span>0%</span>
                        </div>
                        <div class="rating-row">
                            <svg class="star" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <span>4</span>
                            <div class="rating-bar">
                                <div class="rating-fill"></div>
                            </div>
                            <span>0%</span>
                        </div>
                        <div class="rating-row">
                            <svg class="star" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <span>3</span>
                            <div class="rating-bar">
                                <div class="rating-fill"></div>
                            </div>
                            <span>0%</span>
                        </div>
                        <div class="rating-row">
                            <svg class="star" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <span>2</span>
                            <div class="rating-bar">
                                <div class="rating-fill"></div>
                            </div>
                            <span>0%</span>
                        </div>
                        <div class="rating-row">
                            <svg class="star" viewBox="0 0 24 24" width="16" height="16">
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                            <span>1</span>
                            <div class="rating-bar">
                                <div class="rating-fill"></div>
                            </div>
                            <span>0%</span>
                        </div>
                    </div>

                    <div class="no-reviews">
                        <svg class="no-reviews-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                        <h3>No Reviews Yet</h3>
                        <p>Be the first to review this product</p>
                    </div>
                </section>

                <!-- Similar Products -->
                <section class="similar-products">
                    <h2 class="similar-title">Similar Products</h2>
                    <div class="products-grid">
                        <% for (let i = 0; i < similarProducts.length; i++) { %>
                        <div class="product-card">
                            <div class="product-image">
                                <a href="/productDetails?id=<%=similarProducts[i]._id%>">
                                    <img src="/Uploads/product-images/<%= similarProducts[i].productImage[0] %>" alt="<%= similarProducts[i].productName %>">
                                </a>
                            </div>
                            <h3 class="product-name"><%= similarProducts[i].productName %></h3>
                            <div class="product-price">₹<%= similarProducts[i].salePrice %></div>
                            <div class="price-row">
                                <span class="product-original-price">₹<%= similarProducts[i].regularPrice %></span>
                                <span class="product-discount">20% OFF</span>
                            </div>
                        </div>  
                        <% } %>
                    </div>
                </section>

                <!-- Newsletter Section -->
                <section class="newsletter">
                    <h2>Get Exclusive Offers & Updates</h2>
                    <p>Subscribe to our newsletter for exclusive deals, new arrivals, and fashion tips.</p>
                    <form class="newsletter-form">
                        <input type="email" class="newsletter-input" placeholder="Enter your email" required>
                        <button type="submit" class="newsletter-btn">Subscribe</button>
                    </form>
                </section>
            </main>
        </div>
        <%- include("../partials/user/footer") %>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                // Tab functionality
                const tabTriggers = document.querySelectorAll(".tab-trigger");
                const tabContents = document.querySelectorAll(".tab-content");

                tabTriggers.forEach((trigger) => {
                    trigger.addEventListener("click", function () {
                        const targetTab = this.getAttribute("data-tab");

                        tabTriggers.forEach((t) => t.classList.remove("active"));
                        tabContents.forEach((c) => c.classList.remove("active"));

                        this.classList.add("active");
                        document.getElementById(targetTab).classList.add("active");
                    });
                });

                // Thumbnail selection
                const thumbnails = document.querySelectorAll(".thumbnail");
                const mainImage = document.querySelector(".main-image img");

                thumbnails.forEach((thumbnail) => {
                    thumbnail.addEventListener("click", function () {
                        thumbnails.forEach((t) => t.classList.remove("active"));
                        this.classList.add("active");

                        const newSrc = this.querySelector("img").src;
                        mainImage.src = newSrc;
                    });
                });

                // Quantity controls
                const quantityInput = document.querySelector(".quantity-input");
                const quantityBtns = document.querySelectorAll(".quantity-btn");

                quantityBtns.forEach((btn) => {
                    btn.addEventListener("click", function () {
                        const isIncrement = this.textContent === "+";
                        const currentValue = Number.parseInt(quantityInput.value);

                        if (isIncrement) {
                            quantityInput.value = currentValue + 1;
                        } else if (currentValue > 1) {
                            quantityInput.value = currentValue - 1;
                        }
                    });
                });

                // Newsletter form
                const newsletterForm = document.querySelector(".newsletter-form");
                newsletterForm.addEventListener("submit", function (e) {
                    e.preventDefault();
                    const email = this.querySelector(".newsletter-input").value;
                    alert("Thank you for subscribing with email: " + email);
                    this.reset();
                });

                

                // Size selection and price adjustment
                const sizeInputs = document.querySelectorAll('input[name="size"]');
                const currentPriceElement = document.querySelector(".current-price");
                const regularPriceElement = document.querySelector(".original-price");
                const basePrice = parseFloat("<%=product.salePrice%>");
                const regularPrice = parseFloat("<%=product.regularPrice%>");
                console.log(basePrice)

                sizeInputs.forEach((input) => {
                    input.addEventListener("change", function () {
                        // Update active class for size buttons
                        sizeInputs.forEach((inp) => {
                            inp.nextElementSibling.classList.remove("active");
                        });
                        this.nextElementSibling.classList.add("active");

                        // Adjust price based on selected size
                        const selectedSize = this.value;
                        let priceMultiplier =1;

                        switch (selectedSize) {
                            
                            case "7":
                                priceMultiplier = 1.1; // 10% increase
                                break;
                            case "8":
                                priceMultiplier = 1.2; // 20% increase
                                break;
                            case "9":
                                priceMultiplier = 1.3; // 30% increase
                                break;
                            case "10":
                                priceMultiplier = 1.4; // 40% increase
                                break;
                            default:
                                priceMultiplier = 1; // No increase for size 6
                        }

                        const newPrice = (basePrice * priceMultiplier).toFixed()
                        const newregularPrice = (regularPrice * priceMultiplier).toFixed()
                        
                        currentPriceElement.textContent = `₹${newPrice}`;
                        regularPriceElement .textContent = `₹${newregularPrice}`;
                    });
                });

                

                
               

                // Set size 6 as active on page load
                const defaultSizeInput = document.querySelector('input[value="6"]');
                if (defaultSizeInput) {
                    defaultSizeInput.checked = true;
                    defaultSizeInput.nextElementSibling.classList.add("active");
                }
            });



             // Image zoom functionality
   
    document.addEventListener('DOMContentLoaded', function() {
        const zoomContainer = document.getElementById('productZoomContainer');
        const mainImage = document.getElementById('mainProductImage');
        
        if (zoomContainer && mainImage) {
            let isZoomed = false;
            let zoomLevel = 2; // How much to zoom in
            
            zoomContainer.addEventListener('click', function() {
                isZoomed = !isZoomed;
                if (isZoomed) {
                    zoomContainer.style.overflow = 'hidden';
                    mainImage.style.transform = `scale(${zoomLevel})`;
                    mainImage.style.transformOrigin = 'center';
                    mainImage.style.transition = 'transform 0.3s ease';
                    mainImage.style.cursor = 'zoom-out';
                } else {
                    mainImage.style.transform = 'scale(1)';
                    mainImage.style.cursor = 'zoom-in';
                }
            });
            
            zoomContainer.addEventListener('mousemove', function(e) {
                if (isZoomed) {
                    // Calculate relative position within container
                    const rect = zoomContainer.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    // Calculate percentage of position
                    const xPercent = x / rect.width * 100;
                    const yPercent = y / rect.height * 100;
                    
                    // Set transform origin based on mouse position
                    mainImage.style.transformOrigin = `${xPercent}% ${yPercent}%`;
                }
            });
            
            // Set initial state
            mainImage.style.cursor = 'zoom-in';
        }
    });

   

 
 
  
 
  document.addEventListener("DOMContentLoaded", () => {
    const minusBtn = document.querySelector(".minus-btn");
    const plusBtn = document.querySelector(".plus-btn");
    const quantityInput = document.querySelector(".quantity-input");
    const priceElement = document.querySelector(".current-price");
    const regularPriceElement = document.querySelector(".original-price");
    const totalPriceElement = document.getElementById("total-price");
    const regularTotalPriceElement = document.getElementById("total-price1");

    if (!priceElement || !totalPriceElement) {
      console.error("❌ Price or Total element missing!");
      return;
    }

    const unitPrice = parseFloat(priceElement.textContent.replace(/[^\d.]/g, ''));
    const regularPrice = parseFloat(regularPriceElement.textContent.replace(/[^\d.]/g, ''));

    function updateTotal() {
      let qty = parseInt(quantityInput.value);
      if (isNaN(qty) || qty < 1) qty = 1;
      quantityInput.value = qty;
      const total = (unitPrice * qty).toFixed();
      const regularTotal = (regularPrice * qty).toFixed();
      totalPriceElement.textContent = `₹${total}`;
      regularTotalPriceElement.textContent = `₹${regularTotal}`;

    }

    minusBtn.addEventListener("click", () => {
      let qty = parseInt(quantityInput.value);
      if (qty > 1) {
        quantityInput.value = qty - 1;
        updateTotal();
      }
    });

    plusBtn.addEventListener("click", () => {
      let qty = parseInt(quantityInput.value);
      quantityInput.value = qty + 1;
      updateTotal();
    });

    quantityInput.addEventListener("input", updateTotal);

    // Initial run
    updateTotal();
  });










        </script>
</body>

</html>